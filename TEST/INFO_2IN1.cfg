[gcode_macro INFO_2IN1]          
gcode:
   
   {% set user_vars = printer["gcode_macro VARIABLE"] %} 
   {% set recovery = printer.save_variables.variables %}
   
   {% set name = "multi_hotend" %}    # name variable
   {% set init = { } %}     # default preset   
   
      ### init extruder after restart  
     {% if user_vars.toolhead|length > 1  %}      
        {% set init_toolhead_1 = recovery[name].1 %}
           ACTIVATE_TOOL EXTRUDER={init_toolhead_1}          
     {% endif %}

     {% set init_toolhead_0 = recovery[name].0 %}         
          ACTIVATE_TOOL EXTRUDER={init_toolhead_0} 
    
     


  